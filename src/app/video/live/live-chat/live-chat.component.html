<div class="example-headers-align" >
  <mat-accordion >
    <mat-expansion-panel [expanded]="step === 0" (opened)="true" hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-card-title> Chat {{liveRoomUserCount}} active users</mat-card-title>
         
        </mat-panel-title>
        <mat-panel-description>
          <mat-icon>download</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>

      <div #messageArea>
        <mat-card class="mat-elevation-z0" *ngFor="let chat of chatHistory">
          <mat-card-header>
            <div mat-card-avatar>
              <img src="/assets/bk.jpeg" style="width: 50px; height: 50px; border-radius: 50%; padding-top: 15px;"
                mat-card-image>
            </div>
            <mat-card-title>{{chat.userId.username}}</mat-card-title>
            <mat-card-subtitle>
            {{chat.text}}
            </mat-card-subtitle>
          </mat-card-header>
        </mat-card>
      </div>

      <mat-action-row>
        <mat-form-field>
          <input matInput placeholder="write your text" #chatText  style="width: 350px;">
        </mat-form-field>
        <button mat-button color="warn" (click)="sendChat()">Send</button>
      </mat-action-row>
    </mat-expansion-panel>


  </mat-accordion>
</div>